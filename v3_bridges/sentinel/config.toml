[core]
db_path = "./database"
core_type = "evm-on-int"

[native]
eth_chain_id = "1"
endpoints = [ "ws://162.19.83.219:8546" ]
sleep_duration = 15 # How long to wait before trying to get the next host block (in seconds)
contract_addresses = [] # Used to prefilter submission material to reduce total batch size.
validate = true # Used to turn off validation for this side's chain.
state_manager = "0xedB86cd455ef3ca43f0e227e00469C3bDFA40628"

[host]
eth_chain_id = "1"
endpoints = [ "ws://162.19.83.219:8546" ]
sleep_duration = 15 # How long to wait before trying to get the next native block (in seconds)
contract_addresses = [] # Used to prefilter submission material to reduce total batch size.
validate = true # Used to turn off validation for this side's chain.
state_manager = "0xedB86cd455ef3ca43f0e227e00469C3bDFA40628"

[batching]
host_batch_size = 5 # Max number of host blocks to batch before submission
native_batch_size = 10 # Max number of native blocks to batch before submission
host_batch_duration = 300 # Max amount of time between batch submission in seconds
native_batch_duration = 300 # Max amount of time between batch submission in seconds

[log]
level = "debug"
enabled = true # Allow logging to be turned off entirely if desired
use_file_logging = false # If false, logs are written to stderr, if true, logs are written to file
path = "./" # Path to write logs to. Defaults to "./"
max_num_logs = 10 # Maximum number of logs to maintain. The oldest half are compressed.
max_log_size = 1_000_000_000 # Maximum size of a single log in bytes. Defalt is 10mb

[mongo]
database = "database" # Name of the database
host_collection = "host" # Name of the host collection
native_collection = "native" # Name of the host collection
timeout = 3 # How many seconds to wait when conneting/inserting/reading etc
uri = "mongodb://127.0.0.1:27017"

# TODO
# impl a type for the user operation log.
# impl a way to convert it from an ETH log
# update the db_utils to use the same relevant log struct for host and native since they're the same now
